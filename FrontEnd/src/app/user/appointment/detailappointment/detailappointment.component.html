<div class="card">
  <div class="header">
    <button class="btn btn-secondary" (click)="goBack()">
      <i class="fas fa-arrow-left"></i> Quay l·∫°i
    </button>
    <h2>Chi ti·∫øt l·ªãch h·∫πn</h2>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p>ƒêang t·∫£i th√¥ng tin l·ªãch h·∫πn...</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && appointment" class="appointment-details">
    <div class="status-section">
      <span class="status-badge" [ngClass]="{
        'status-pending': appointment.status === 'Ch·ªù x√°c nh·∫≠n',
        'status-confirmed': appointment.status === 'ƒê√£ x√°c nh·∫≠n',
        'status-done': appointment.status === 'ƒê√£ ho√†n t·∫•t'
      }">{{ appointment.status }}</span>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3>üêæ Th√¥ng tin th√∫ c∆∞ng</h3>
        <div class="info-item">
          <label>T√™n th√∫ c∆∞ng:</label>
          <span>{{ appointment.petName }}</span>
        </div>
        <div class="info-item">
          <label>Ch·ªß th√∫ c∆∞ng:</label>
          <span>{{ appointment.petOwnerName }}</span>
        </div>
      </div>

      <div class="info-card">
        <h3>üìÖ Th√¥ng tin l·ªãch h·∫πn</h3>
        <div class="info-item">
          <label>Ng√†y h·∫πn:</label>
          <span>{{ appointment.appointmentDate | date:'dd/MM/yyyy' }}</span>
        </div>
        <div class="info-item">
          <label>Gi·ªù h·∫πn:</label>
          <span>{{ appointment.appointmentDate | date:'HH:mm' }}</span>
        </div>
        <div class="info-item">
          <label>Ghi ch√∫:</label>
          <span>{{ appointment.note || 'Kh√¥ng c√≥' }}</span>
        </div>
      </div>

      <div class="info-card">
        <h3>üíº D·ªãch v·ª• ƒë√£ ch·ªçn</h3>
        <div class="services-list">
          <div *ngFor="let service of appointment.services" class="service-item">
            <span class="service-name">{{ service }}</span>
            <span class="service-price">{{ getServicePrice(service) | number }} VNƒê</span>
          </div>
        </div>
        <div class="total-price">
          <label>T·ªïng ti·ªÅn:</label>
          <span>{{ getTotalPrice(appointment.services) | number }} VNƒê</span>
        </div>
      </div>
    </div>

    <div class="actions" *ngIf="appointment.status === 'Ch·ªù x√°c nh·∫≠n'">
      <button class="btn btn-danger" (click)="cancelAppointment()">
        <i class="fas fa-times"></i> Hu·ª∑ l·ªãch h·∫πn
      </button>
    </div>
  </div>
</div>